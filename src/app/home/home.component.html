<app-flashscreen [message]="user.message"
                 submessage="Vous pouvez augmenter vos gains en partageant vos réductions"
                 *ngIf="showMessage"
                 [duration]="15"
                 (close)="closeFlashScreen()">
</app-flashscreen>

<div [hidden]="showMessage">
  <app-tuto label="Bienvenue dans ReducShare !"
            [duration]="5" height="100vh"
            image="./assets/icons/icon-384x384.png"
            subtitle="Une application pour gagner plein de réductions dont la valeur augmente quand vous les redistribuées !">
  </app-tuto>

  <app-userform [user]="user"
                [excludes]="user.coupons"
                (update)="updateUser($event)"
                (flash)="refresh($event?.message)">
  </app-userform>

  <app-tuto [if]="user.shops?.length>0"
            label="Retrouvez ici toutes les enseignes pour lesquelles vous souhaitez faire des promotions">
  </app-tuto>
  <app-shops
             [user]="user"
             (update)="refresh($event?.message)"
             (delete)="refresh($event?.message)"
             (insert)="refresh($event?.message)">
  </app-shops>

  <app-tuto [if]="coupons.length>0"
            label="Ici, retrouvez toutes les réductions récupérées. Vous pouvez les repartager pour augmenter vos bonus ou les utiliser directement dans l'enseigne concernée">
  </app-tuto>

  <!--Affiche la liste des coupons en possession de l'utilisateur -->
  <app-list-coupons (delete)="refresh($event?.message)"
                    title="Vos réductions"
                    (insert)="refresh($event?.message)"
                    (update)="refresh($event?.message)"
                    [coupons]="coupons" [user]="user">
  </app-list-coupons>

  <mat-card class="app-card" style="background-color: #d9d9d9;color:black;">
    <div style="width: 100%;text-align: center;font-size: small;margin-top:20px;">
      {{config.values.appname+" - "+config.values.version}}<br>
      <br>
      <img [src]="config.values.logo" style="width:30%;max-width:120px;margin:15px;">
      <br>
      <table style="display: inline-block;text-align: left;">
        <tr><td>Réalisation</td><td>: <a [href]="config.values.editor?.link_author" target="_blank">{{config.values.editor?.author}}</a></td></tr>
        <tr>
          <td>Edition</td>
          <td>: <a [href]="config.values.editor?.website" target="_blank"><strong>{{config.values.editor?.name}}</strong></a></td>
        </tr>
        <tr><td><br></td></tr>
        <tr>
          <td>
            <mat-icon>mail</mat-icon>
          </td>
          <td>
            : <a href="mailto:{{config.values.support?.email}}">{{config.values.support?.email}}</a><br>
          </td>
        </tr>
      </table>
    </div>
    <br>

  </mat-card>


</div>

<!--<br><br><br>-->
<!--<button mat-button mat-raised-button (click)="api.raz();refresh();">RAZ</button>-->


